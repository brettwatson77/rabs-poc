#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Exit on error
set -e

# Store the repository root directory
REPO_ROOT=$(git rev-parse --show-toplevel)

echo "ğŸ” Running pre-commit checks..."

# Run custom guard script to check for file issues
echo "âš”ï¸ Running file integrity guard..."
node scripts/precommit-guard.js

# Run frontend linting
echo "ğŸ§¹ Running frontend linting..."
cd frontend && npm run lint

# Return to repository root
cd "$REPO_ROOT"

echo "âœ… Pre-commit checks passed!"
